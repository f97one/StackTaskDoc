================
タスクリスト画面
================

物理名、宣言

``class TaskListActivity : AbstractAppActivity()``


画面部品
========

.. list-table::
   :header-rows: 1

   * - 論理名
     - 種別
     - I/O
     - 最大桁数
     - 入力規則
     - 初期値
     - 導入元
     - 備考
   * - 表示順
     - Spinner
     - I/O
     - -
     - -
     - 期日順
     - -
     - 期日順、優先度順、名前順の3種類
   * - タスクリスト
     - RecyclerView
     - I/O
     - -
     - -
     - -
     - -
     - 
   * - タスクカード
     - CardView
     - I/O
     - -
     - -
     - -
     - -
     - タスクリスト内に表示
   * - 完了チェック
     - CheckBox
     - I/O
     - -
     - -
     - checked = false
     - タスクアイテム.完了チェック
     - -
   * - タスク名
     - TextView
     - O
     - -
     - -
     - -
     - タスクアイテム.タスク名
     - elipsise = end
   * - 期日
     - TextView
     - O
     - -
     - -
     - -
     - タスクアイテム.期日
     - nullの場合「-」を表示
   * - 優先度
     - RatingBar
     - O
     - -
     - -
     - 1
     - タスクアイテム.優先度
     - -
   * - タスク追加ボタン
     - FloatingActionButton
     - I/O
     - -
     - -
     - -
     - -
     - 「＋」を画像表示

イベント処理
============

初期化
------

#. | レイアウトXMLを展開後、Viewをinjectする。
   | ※ `androidx` で行う。
#. | Firebase Realtime Database から、同期できていないユーザーのタスクを取得する。
   | ※ :ref:`get_realtime_database` により取得時に自動的に処理される。
#. ``SharedPreference`` からデフォルトの並び順を取得する。
#. ユーザーのタスク一覧を、 ``SharedPreference`` の並び順に従いソートする。

   +----------------+------------------------------------------+
   | 並び順         | ソート順                                 |
   +================+==========================================+
   | 期日順の場合   | 期日(降順)、優先度(降順)、名前の順       |
   +----------------+------------------------------------------+
   | 優先度順の場合 | 優先度(降順)、期日(降順)、名前の順       |
   +----------------+------------------------------------------+
   | 名前順の場合   | 名前(昇順)、期日(降順)、優先度(降順)の順 |
   +----------------+------------------------------------------+

#. ソート結果を画面.タスクリストにセットする。
#. 画面.表示順 の選択値を ``SharedPreference`` の並び順にする。

